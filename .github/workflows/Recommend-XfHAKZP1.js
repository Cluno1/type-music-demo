import{m as E,n as D,d as H,o as M,k as N,a,c as u,b as n,f as $,e as I,w as B,F as _,p as y,q,g as w,l as C,v as T,h as b,t as x,_ as V}from"./index-Dk3O8imR.js";const z="/assets/0-CXTedHLy.png",F=E("box",()=>{let A={boxStart(i){setTimeout(()=>{i.boxChange()},i.time.routineTime)},boxAdd(){return this.index<this.length-1?(this.index++,"right"):(this.index--,"left")},boxDesc(){return this.index>0?(this.index--,"left"):(this.index++,"right")},boxChange(i=null,d=null){switch(i){case null:this.time.click?(this.time.click--,this.time.click||(this.boxContainer.style.transition="all 0.5s")):(this.direction=="right"?this.direction=this.boxAdd():this.direction=this.boxDesc(),this.boxContainer.style.left=this.index*-100+"%",setTimeout(()=>{this.boxChange()},this.time.routineTime));break;case"left":this.direction=this.boxDesc(),this.time.click||(this.boxContainer.style.transition="all 0s"),this.boxContainer.style.left=this.index*-100+"%",this.time.click++,setTimeout(()=>{this.boxChange()},this.time.occurTime);break;case"right":this.direction=this.boxAdd(),this.time.click||(this.boxContainer.style.transition="all 0s"),this.boxContainer.style.left=this.index*-100+"%",this.time.click++,setTimeout(()=>{this.boxChange()},this.time.occurTime);break;case"pointer":this.index=d,this.time.click||(this.boxContainer.style.transition="all 0s"),this.boxContainer.style.left=this.index*-100+"%",this.time.click++,setTimeout(()=>{this.boxChange()},this.time.occurTime);break}},addUrl(i){let d=i.length,l=0;this.boxItems.forEach((g,o)=>{l<d?g.style.backgroundImage=`url(${i[l]})`:g.style.backgroundImage=`url('/src/assets/pictureHolder/${l%3}.png')`,l++})}};function L(i,d,l,g,o,v,f){let p={length:l.length,index:0,time:{routineTime:i,occurTime:d,click:0},boxItems:l,boxContainer:g,boxPointers:o,boxRight:f,boxLeft:v,direction:"right",__proto__:A};return o.forEach((S,s)=>{S.addEventListener("click",()=>{g.style.transition="all 0s",p.boxChange("pointer",s)})}),v==null||v.addEventListener("click",()=>{p.boxChange("left")}),f==null||f.addEventListener("click",()=>{p.boxChange("right")}),c.data.push(p),c.length++,p}const c=D({length:0,data:[]});return{boxes:c,initBox:L}}),U={class:"recommend-layout"},j={class:"color-blur"},X={class:"box-box"},G={class:"box-button"},J={class:"box-container"},K={class:"box-pointers"},O=["onClick"],Q={class:"box-message"},W=["src","onLoad"],Y={src:z},Z={class:"abc-item-songMessage"},P=H({__name:"Recommend",setup(A){let L=F(),c=null;M(()=>{c=L.initBox(3e3,6e3,document.querySelectorAll(".box-item"),document.querySelector(".box-container"),document.querySelectorAll(".box-pointer"),document.querySelector(".box-left"),document.querySelector(".box-right")),c.addUrl(["/src/assets/temp/moonNight.png","/src/assets/temp/spring.jpg","/src/assets/temp/xiao.png","https://picsum.photos/420/360?random=30","https://picsum.photos/420/360?random=90"]),c.boxStart(c)});const i=N([]);function d(){let s=0;i.value.length!=0&&(s=i.value.length);for(let e=0;e<10;e++){let r={songId:s,songName:"达尔文",songSinger:"蔡健雅",songSignature:"好听，温柔",songSubmitTime:"2024-9-26",songImg:`https://picsum.photos/420/360?random=${s}`,songImgLoad:!1};i.value.push(r),s++}}function l(s){const{target:e}=s;e.scrollHeight-e.scrollTop<=e.clientHeight&&d()}d();const g=N(null),o=N([]);function v(){for(let s=0;s<2;s++){let e={songId:s,songName:"达尔文",songSinger:"蔡健雅",songSignature:"好听，温柔",songSubmitTime:"2024-9-26",songImg:`https://picsum.photos/580/460?random=${s}`,songImgLoad:!1};o.value.push(e),e={songId:s+1,songName:"人来人往",songSinger:"陈奕迅",songSignature:"好听，爱听，多来点",songSubmitTime:"2024-9-27",songImg:`https://picsum.photos/580/460?random=${s+1}`,songImgLoad:!1},o.value.push(e)}}function f(s){if(s)return{backgroundImage:`url(${s.songImg})`,backgroundSize:"cover"}}v();function p(){function s(){e>=o.value.length?e=0:e<0&&(e=o.value.length-1)}let e=0,r=null;function m(k){clearTimeout(r);let t=0;for(let h=0;h<o.value.length;h++)o.value[h].songImgLoad&&(t=h+1,o.value[h].songImgLoad=!1);k===null?(e=t,s(),o.value[e].songImgLoad=!0,r=setTimeout(()=>m(null),3e3)):k==="left"?(e--,s(),o.value[e].songImgLoad=!0,r=setTimeout(()=>m(null),5e3)):k==="right"?(e++,s(),o.value[e].songImgLoad=!0,r=setTimeout(()=>m(null),5e3)):(e=k,s(),o.value[e].songImgLoad=!0,r=setTimeout(()=>m(null),5e3)),g.value=o.value[e]}return m}const S=p();return S(null),(s,e)=>{const r=w("ArrowLeft"),m=w("el-icon"),k=w("ArrowRight");return a(),u("div",U,[n("div",{class:"box-layout",style:q(f(g.value))},[n("div",j,[n("div",X,[n("div",G,[n("div",{class:"box-left",onClick:e[0]||(e[0]=t=>$(S)("left"))},[I(m,null,{default:B(()=>[I(r)]),_:1})]),n("div",{class:"box-right",onClick:e[1]||(e[1]=t=>$(S)("right"))},[I(m,null,{default:B(()=>[I(k)]),_:1})])]),n("div",J,[(a(!0),u(_,null,y(o.value,t=>C((a(),u("div",{class:"box-img",key:t.songId,style:q(f(t))},null,4)),[[T,t.songImgLoad]])),128))]),n("div",K,[(a(!0),u(_,null,y(o.value,(t,h)=>(a(),u("span",{class:"box-pointer",key:t.songId,onClick:R=>$(S)(h)},null,8,O))),128))])]),n("div",Q,[(a(!0),u(_,null,y(o.value,t=>C((a(),u("div",{class:"box-message-item",key:t.songId},[b(x(t.songName),1),e[2]||(e[2]=n("br",null,null,-1)),b(" "+x(t.songSinger),1),e[3]||(e[3]=n("br",null,null,-1)),b(" "+x(t.songSignature),1),e[4]||(e[4]=n("br",null,null,-1)),b(" "+x(t.songSubmitTime),1),e[5]||(e[5]=n("br",null,null,-1))])),[[T,t.songImgLoad]])),128))])])],4),n("div",{class:"abc",onScroll:l},[(a(!0),u(_,null,y(i.value,t=>(a(),u("div",{class:"abc-item",key:t.songId},[C(n("img",{class:"abc-item-img",src:t.songImg,onLoad:h=>t.songImgLoad=!0},null,40,W),[[T,t.songImgLoad]]),C(n("img",Y,null,512),[[T,!t.songImgLoad]]),n("div",Z,[b(x(t.songName),1),e[6]||(e[6]=n("br",null,null,-1)),b(" "+x(t.songSinger),1),e[7]||(e[7]=n("br",null,null,-1)),b(" "+x(t.songSignature),1),e[8]||(e[8]=n("br",null,null,-1)),b(" "+x(t.songSubmitTime),1),e[9]||(e[9]=n("br",null,null,-1))])]))),128))],32)])}}}),te=V(P,[["__scopeId","data-v-4ce5a1c7"]]);export{te as default};
