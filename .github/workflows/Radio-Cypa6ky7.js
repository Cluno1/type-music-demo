import{m as S,n as _,d as B,s as y,x,k as A,y as R,a as p,c as f,b as k,F as E,p as q,z as N,A as T,r as $,_ as b}from"./index-Dk3O8imR.js";import{u as I}from"./radioStore-KtmS9A-_.js";const M=S("gridBox",()=>{let v={gridBoxAddMessage(a,e,i,d,t=null){var o,s,c,u;if(this.songNames.forEach((l,r)=>{a.length>=r+1&&(l.innerText=a[r])}),(o=this.songSingers)==null||o.forEach((l,r)=>{e.length>=r+1&&(l.innerText=e[r])}),(s=this.songSignatures)==null||s.forEach((l,r)=>{i.length>=r+1&&(l.innerText=i[r])}),(c=this.songSubmitTimes)==null||c.forEach((l,r)=>{d.length>=r+1&&(l.innerText=d[r])}),t){let l=t.length;(u=this.songImgs)==null||u.forEach((r,h)=>{h<l?r.src=`${t[h]}`:r.src=`/src/assets/pictureHolder/${h%4}.png`})}return!0},gridBoxAddImg(a=null){var e;if(a){let i=a.length;(e=this.songImgs)==null||e.forEach((d,t)=>{t<i?d.src=`url('${songSignatures[t]}')`:d.src=`url('/src/assets/pictureHolder/${t%4}.png')`})}}};function n(a,e,i,d,t,o){let s=null;return s={boxName:a,length:e.length,songImgs:o,songNames:e,songSingers:i,songSignatures:d,songSubmitTimes:t,__proto__:v},g.data.push(s),g.length++,s}function m(a){let e=[],i=[],d=[],t=[],o=[];for(let s=0;s<a;s++)e.push("月球上的人"),i.push("陈奕迅"),d.push("人生一世，不如听歌"),t.push("2024/9/11"),o.push(`https://picsum.photos/420/360?random=${s}`);return{songNames:e,songSingers:i,songSignatures:d,songSubmitTimes:t,songImgs:o}}const g=_({length:0,data:[]});return{gridBoxes:g,initBox:n,test:m}}),w={class:"radio-layout"},C={class:"radio-layout grid-layout"},H=["onClick"],F=B({__name:"Radio",setup(v){const n=y(),m=I();let g=M();x();let a,e;const i=A(0);n.sendWSMessage("getRadioAll",""),R(()=>n.messageRespond.on,async t=>{if(t&&n.messageRespond.message.service==="radioAll"){n.messageRespond.on=!1,e=JSON.parse(n.messageRespond.message.data),i.value=e.length,await T(),document.querySelectorAll(".radio-layout-grid-item"),a=g.initBox("radioBox",document.querySelectorAll(".radio-name"),document.querySelectorAll(".radio-creator"),document.querySelectorAll(".radio-signature"),document.querySelectorAll(".radio-created-time"),document.querySelectorAll(".radio-layout-grid-item-img"));let o=[],s=[],c=[];for(let u in e)o.push(e[u].title),s.push(e[u].user.userName),c.push(e[u].signature);a.gridBoxAddMessage(o,s,c,["2024/4/5"],["/src/assets/pictureHolder/1.png"])}});function d(t){console.log(e[t]),m.radio.user=e[t].user,m.radio.radioId=e[t].radioId,$.push("/radio-live")}return(t,o)=>(p(),f("div",w,[k("div",C,[(p(!0),f(E,null,q(i.value,s=>(p(),f("div",{class:"radio-layout-grid-item grid-layout-item",key:s-1,onClick:c=>d(s-1)},o[0]||(o[0]=[N('<img class="radio-layout-grid-item-img" data-v-00c45385><div class="radio-layout-grid-item-radioMessage" data-v-00c45385><div class="radio-name" data-v-00c45385></div><div class="radio-creator" data-v-00c45385></div><div class="radio-signature" data-v-00c45385></div><div class="song-created-time" data-v-00c45385></div></div>',2)]),8,H))),128))])]))}}),V=b(F,[["__scopeId","data-v-00c45385"]]);export{V as default};
